"use strict";(self.webpackChunktrguing=self.webpackChunktrguing||[]).push([[980],{8279:(e,t,n)=>{n.d(t,{Z:()=>c});var r,a,l=n(7294);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const c=function(e){return l.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:256,height:256,viewBox:"0 0 1024 1024"},e),r||(r=l.createElement("defs",null,l.createElement("linearGradient",{id:"app_svg__a"},l.createElement("stop",{offset:0,stopColor:"#eff7ff"}),l.createElement("stop",{offset:.4,stopColor:"#8796a2"}),l.createElement("stop",{offset:.6,stopColor:"#95a0b8"}),l.createElement("stop",{offset:1,stopColor:"#d8dee6"})),l.createElement("linearGradient",{xlinkHref:"#app_svg__a",id:"app_svg__b",x1:104,x2:920,y1:512,y2:512,gradientTransform:"translate(-47 -1108)scale(1.16406)",gradientUnits:"userSpaceOnUse",spreadMethod:"reflect"}))),a||(a=l.createElement("g",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:3},l.createElement("rect",{width:931.3,height:931.3,x:83,y:-978,fill:"url(#app_svg__b)",strokeWidth:18.6,ry:199.3,transform:"rotate(90)"}),l.createElement("rect",{width:648,height:110,x:188,y:494,strokeWidth:18.6,ry:55}),l.createElement("rect",{width:102.1,height:544,x:189,y:277,strokeWidth:18.6,ry:51.1}),l.createElement("rect",{width:102.1,height:544,x:734,y:277,strokeWidth:18.6,ry:51.1}),l.createElement("rect",{width:102.1,height:544,x:461,y:277,strokeWidth:18.6,ry:51.1}),l.createElement("rect",{width:105.9,height:330.8,x:460,y:275,fill:"#ababab",strokeWidth:14.8,ry:53}),l.createElement("circle",{cx:512,cy:169.1,r:153.2,fill:"#ff2d1a",strokeWidth:18.6}))))}},4221:(e,t,n)=>{n.d(t,{Z:()=>c});var r,a,l=n(7294);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const c=function(e){return l.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:120,height:60,fillRule:"evenodd"},e),r||(r=l.createElement("g",{fill:"none",transform:"translate(7.367 13.505)scale(.06928)"},l.createElement("circle",{cx:269.529,cy:237.628,r:50.167,fill:"#00d8ff"}),l.createElement("g",{stroke:"#00d8ff",strokeWidth:24},l.createElement("path",{d:"M269.53 135.628c67.356 0 129.928 9.665 177.107 25.907 56.844 19.57 91.794 49.233 91.794 76.093 0 27.99-37.04 59.503-98.083 79.728-46.15 15.29-106.88 23.272-170.818 23.272-65.554 0-127.63-7.492-174.3-23.44C36.184 297.006.62 265.085.62 237.628c0-26.642 33.37-56.076 89.415-75.616 47.355-16.51 111.472-26.384 179.486-26.384z"}),l.createElement("path",{d:"M180.736 186.922c33.65-58.348 73.28-107.724 110.92-140.48C337.006 6.976 380.163-8.48 403.43 4.937c24.248 13.983 33.042 61.814 20.067 124.796-9.8 47.618-33.234 104.212-65.176 159.6-32.75 56.788-70.25 106.82-107.377 139.272-46.98 41.068-92.4 55.93-116.185 42.213-23.08-13.3-31.906-56.92-20.834-115.233 9.355-49.27 32.832-109.745 66.8-168.664z"}),l.createElement("path",{d:"M180.82 289.482c-33.745-58.282-56.72-117.287-66.31-166.255-11.544-59-3.382-104.11 19.864-117.566 24.224-14.024 70.055 2.244 118.14 44.94 36.356 32.28 73.688 80.837 105.723 136.173 32.844 56.733 57.46 114.21 67.036 162.582 12.117 61.213 2.31 107.984-21.453 121.74-23.057 13.348-65.25-.784-110.24-39.5-38.013-32.71-78.682-83.253-112.76-142.115z"})))),a||(a=l.createElement("path",{fill:"#00d8ff",d:"m64.62 38.848-4.26-6.436c2.153-.19 4.093-1.75 4.093-4.6 0-2.9-2.058-4.756-4.945-4.756h-6.34v15.78h1.964v-6.27h3.147l4.022 6.27zm-5.347-7.997h-4.14v-6.033h4.14c1.87 0 3.147 1.23 3.147 3.005s-1.278 3.03-3.147 3.03zm12.658 8.28c1.87 0 3.407-.615 4.543-1.75l-.852-1.16c-.9.923-2.224 1.443-3.525 1.443-2.46 0-3.975-1.798-4.117-3.95h9.25v-.45c0-3.43-2.035-6.128-5.49-6.128-3.265 0-5.63 2.674-5.63 5.986 0 3.573 2.437 6 5.82 6zm3.55-6.72h-7.5c.095-1.75 1.3-3.81 3.738-3.81 2.603 0 3.738 2.106 3.762 3.81m13.534 6.436v-7.855c0-2.768-2.01-3.857-4.424-3.857-1.87 0-3.336.615-4.566 1.893l.828 1.23c1.017-1.088 2.13-1.585 3.502-1.585 1.656 0 2.887.875 2.887 2.413v2.058c-.923-1.065-2.224-1.562-3.786-1.562-1.94 0-4 1.207-4 3.762 0 2.484 2.058 3.786 4 3.786 1.538 0 2.84-.544 3.786-1.585v1.3zm-4.92-.994c-1.656 0-2.816-1.04-2.816-2.484 0-1.467 1.16-2.508 2.816-2.508 1.254 0 2.46.473 3.147 1.42v2.153c-.686.946-1.893 1.42-3.147 1.42zm13.5 1.278c2.082 0 3.312-.852 4.188-1.987l-1.183-1.088c-.757 1.017-1.727 1.49-2.9 1.49-2.437 0-3.95-1.893-3.95-4.424s1.514-4.4 3.95-4.4c1.183 0 2.153.45 2.9 1.49l1.183-1.088c-.875-1.136-2.106-1.987-4.188-1.987-3.407 0-5.702 2.603-5.702 5.986 0 3.407 2.295 6 5.702 6zm9.56 0c1.04 0 1.68-.308 2.13-.733l-.52-1.325c-.237.26-.7.473-1.207.473-.78 0-1.16-.615-1.16-1.467v-7.098h2.32V27.42h-2.32v-3.123h-1.775v3.123h-1.893v1.562h1.893v7.477c0 1.704.852 2.674 2.532 2.674z"})))}},3983:(e,t,n)=>{n.d(t,{Z:()=>i});var r,a,l,o=n(7294);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const i=function(e){return o.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:120,height:60,fill:"none",viewBox:"-7.011 -0.489 749.711 231.9"},e),r||(r=o.createElement("path",{fill:"#ffc131",d:"M305.7 181c-1 0-2-.4-2.9-1.1a4.3 4.3 0 0 1-1.1-3V92.5h-29c-1.1 0-2.1-.4-3-1.2a4.3 4.3 0 0 1-1.1-2.9V71a4 4 0 0 1 1.1-3c.9-.7 1.9-1.1 3-1.1h87.6a4 4 0 0 1 3 1.1 4 4 0 0 1 1.1 3v17.4a4 4 0 0 1-1.1 3 4 4 0 0 1-3 1h-29V177c0 1.1-.4 2-1.1 3a4 4 0 0 1-3 1.1h-21.5zm55.3 0c-.8 0-1.6-.3-2.4-1-.6-.7-1-1.6-1-2.4l.2-1.5 38.3-104.6a6 6 0 0 1 2.1-3.3c1.1-.9 2.5-1.3 4.3-1.3h24.1c1.7 0 3.2.4 4.2 1.3a6 6 0 0 1 2.2 3.3L471 176l.3 1.5c0 .8-.3 1.7-1.1 2.4-.7.7-1.5 1-2.5 1h-20c-2.6 0-4.3-1.1-5.2-3.4l-6.4-16.6h-43.5l-6.2 16.6c-.9 2.3-2.7 3.4-5.4 3.4h-20zm68.7-43.5-15.2-43-15.1 43zm100 45.1a53.4 53.4 0 0 1-36-11.2c-8.7-7.5-13-18.8-13-34V71a4 4 0 0 1 1.2-3c.9-.7 1.8-1.1 3-1.1h21a4 4 0 0 1 2.9 1.1c.9.8 1.3 1.8 1.3 3v66.3c0 7 1.6 12.4 4.9 16 3.4 3.5 8.2 5.2 14.5 5.2 6.2 0 11-1.8 14.3-5.4 3.4-3.6 5-8.8 5-15.8V71a4 4 0 0 1 1.2-3c.9-.7 1.9-1.1 3-1.1h21.2A4 4 0 0 1 577 68a4 4 0 0 1 1.1 3v66.5c0 15-4.3 26.4-13 33.9a52.2 52.2 0 0 1-35.5 11.2zM604 181c-1.2 0-2.1-.4-3-1.1a4.3 4.3 0 0 1-1.2-3V71a4 4 0 0 1 1.2-3c.9-.7 1.8-1.1 3-1.1h44.3a51 51 0 0 1 33.2 9.8 33 33 0 0 1 12 27.4 34 34 0 0 1-5.3 19.4 34.3 34.3 0 0 1-14.8 12.2l22.3 40c.3.7.5 1.3.5 1.9 0 .8-.4 1.7-1.2 2.4-.6.7-1.4 1-2.2 1H671a6.8 6.8 0 0 1-6.7-4.4l-18.6-35.9h-16.6V177c0 1.2-.4 2.2-1.3 3a4 4 0 0 1-3 1.1h-21zm44-63.4c5 0 8.7-1.2 11.3-3.6 2.6-2.5 4-6 4-10.3s-1.4-7.7-4-10.2c-2.5-2.6-6.3-4-11.4-4h-18.7v28h18.7zm68.6 63.4c-1 0-2-.4-3-1.1a4.3 4.3 0 0 1-1-3V71a4 4 0 0 1 1-2.9c1-.7 2-1.1 3-1.1h21.9a4 4 0 0 1 2.9 1.1c.9.8 1.3 1.8 1.3 3v106c0 1.1-.4 2.1-1.3 2.9a4 4 0 0 1-3 1.1h-21.8zM143.1 84a22 22 0 1 1-44 0 22 22 0 0 1 44 0"})),a||(a=o.createElement("circle",{cx:84.1,cy:147,r:22,fill:"#24c8db",transform:"rotate(180 84.1 147)"})),l||(l=o.createElement("g",{fillRule:"evenodd",clipRule:"evenodd"},o.createElement("path",{fill:"#ffc131",d:"M166.7 154.5a84 84 0 0 1-29 11.8 59 59 0 0 0 2.9-26.6 59 59 0 1 0-67.4-90.1A98 98 0 0 0 41 59a84 84 0 1 1 125.7 95.5M42 74.3l20.6 2.5a59 59 0 0 1 2.6-11.7A84 84 0 0 0 42 74.3"}),o.createElement("path",{fill:"#24c8db",d:"M38.4 76.5a84 84 0 0 1 29.2-11.9 58.9 58.9 0 0 0-3.3 26.7 59 59 0 1 0 67.7 90 98 98 0 0 0 32.2-9.3A84 84 0 1 1 38.4 76.5m124.7 80.2-.4.2z"}))))}},3570:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Es:()=>T,Fj:()=>D,KD:()=>M,__:()=>O,gO:()=>L,nW:()=>A,tx:()=>_,zF:()=>P});var a=n(5390),l=n(4168),o=n(1972),c=n(2691),i=n(3330),s=n(5918),d=n(61),m=n(4340),u=n(2160),h=n(7203),p=n(1950),f=n(7433),g=n(5686),v=n(8913),b=n(7294),E=n(9362),w=n(6387),y=n(1657),k=n(8645),x=n(5409),C=e([v]);v=(C.then?(await C)():C)[0];const{TAURI:S,dialogOpen:z}=await n.e(457).then(n.bind(n,4637));function P(e){const t=(0,x.QU)();return(0,b.useEffect)((()=>(t.active=!e.opened,()=>{t.active=!0})),[e.opened,t]),b.createElement(a.u,{...e},e.children)}function D({onSave:e,onClose:t,children:n,saveLoading:r,...a}){return b.createElement(P,{onClose:t,...a},b.createElement(l.i,{my:"sm"}),n,b.createElement(l.i,{my:"sm"}),b.createElement(o.Z,{position:"center",spacing:"md"},b.createElement(c.z,{onClick:e,variant:"filled","data-autofocus":!0},!0===r?b.createElement(i.a,{size:"1rem"}):"保存"),b.createElement(c.z,{onClick:t,variant:"light"},"取消")))}function L({names:e,limit:t}){t=t??5;const n=e.slice(0,t);return b.createElement(b.Fragment,null,b.createElement(s.x,{mx:"xl",mb:"md"},`选中总数：${e.length}`),n.map(((e,t)=>b.createElement(s.x,{key:t,mx:"md",my:"xs",px:"sm",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",boxShadow:"inset 0 0 0 9999px rgba(133, 133, 133, 0.1)"}},e))),e.length>t&&b.createElement(s.x,{mx:"xl",mb:"md"},`... and ${e.length-t} more`))}function A(){const e=(0,k.EL)(),t=(0,k.uM)(),n=(0,b.useMemo)((()=>null==e.current||0===t.size?[]:e.torrents.filter((e=>t.has(e.id))).map((e=>e.name))),[e,t]);return b.createElement(L,{names:n})}function M(){const e=(0,b.useContext)(v.E_),t=(0,b.useContext)(v.Dk),[n,r]=(0,b.useState)([]),a=(0,b.useCallback)((()=>{const n=[...t.lastSaveDirs];e.values.interface.sortLastSaveDirs&&n.sort(),r(n)}),[e,t]);(0,b.useEffect)((()=>{a()}),[a]);const[l,o]=(0,b.useState)(""),c=(0,b.useRef)(l);c.current=l,(0,b.useEffect)((()=>{!n.includes(c.current)&&n.length>0&&o(n[0])}),[n]);const i=(0,b.useCallback)((()=>{const e=(0,E.QY)(l,t);console.log("Mapped location: ",e),z({title:"选择目录",defaultPath:""===e?void 0:e,directory:!0}).then((e=>{if(null===e)return;const n=(0,E.kB)(e.replace(/\\/g,"/"),t);o(n.replace(/\\/g,"/"))})).catch(console.error)}),[t,l,o]),s=(0,b.useCallback)((n=>{e.addSaveDir(t.name,n),a()}),[e,t,a]),d=(0,b.useCallback)((n=>{e.removeSaveDir(t.name,n),a()}),[e,t,a]);return{path:l,setPath:o,lastPaths:n,addPath:s,removePath:d,browseHandler:i}}function T(e){return b.createElement(o.Z,{align:"flex-end"},b.createElement(d.o,{value:e.path,label:e.inputLabel,disabled:e.disabled,onChange:t=>{e.setPath(t.currentTarget.value)},styles:{root:{flexGrow:1}},"data-autofocus":e.focusPath,rightSection:b.createElement(m.v,{position:"left-start",withinPortal:!0,middlewares:{shift:!0,flip:!1},offset:{mainAxis:-20,crossAxis:30}},b.createElement(m.v.Target,null,b.createElement(u.A,{py:"md",disabled:!0===e.disabled||0===e.lastPaths.length},b.createElement(w.Z,{size:"16"}))),b.createElement(m.v.Dropdown,null,b.createElement(h.x.Autosize,{type:"auto",mah:"calc(100vh - 0.5rem)",miw:S?"40.05rem":"46.5rem",offsetScrollbars:!0,styles:{viewport:{paddingBottom:0}}},e.lastPaths.map((t=>b.createElement(m.v.Item,{key:t,onClick:()=>{e.setPath(t)},rightSection:b.createElement(u.A,{component:"div",title:"移除",onClick:n=>{n.stopPropagation(),e.removePath(t)},className:"list-delete-icon"},b.createElement(y.Z,{size:"12"}))},t.length>0?t:"<empty>"))))))}),S&&b.createElement(c.z,{onClick:e.browseHandler,disabled:e.disabled},"选择目录"))}function O({label:e,onRemove:t,classNames:n,...r}){return b.createElement("div",{...r},b.createElement(p.C,{radius:"md",variant:"filled",rightSection:b.createElement(f.P,{onMouseDown:t,title:"删除",color:"gray.0",variant:"transparent",size:22,iconSize:14,tabIndex:-1,mr:"-0.25rem"})},e))}function _(e){const t=(0,b.useContext)(v.E_),n=(0,k.EL)(),r=(0,b.useMemo)((()=>{const e=new Set(t.values.interface.preconfiguredLabels);return n.torrents.forEach((t=>t.labels?.forEach((t=>e.add(t))))),Array.from(e).sort()}),[t,n.torrents]),[a,l]=(0,b.useState)(r);return b.createElement(g.NU,{data:a,value:e.labels,onChange:e.setLabels,label:e.inputLabel,withinPortal:!0,searchable:!0,creatable:!0,initiallyOpened:e.initiallyOpened,disabled:e.disabled,getCreateLabel:e=>`+ 新增 ${e}`,onCreate:e=>(l((t=>[...t,e])),e),valueComponent:O})}r()}catch(F){r(F)}}),1)},1739:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{F:()=>x,f:()=>k});var a=n(4331),l=n(5918),o=n(3285),c=n(4168),i=n(3515),s=n(7532),d=n(1938),m=n(3570),u=n(5070),h=n(7294),p=n(4221),f=n(3983),g=n(8279),v=n(6743),b=n(2238),E=n.n(b),w=e([m]);m=(w.then?(await w)():w)[0];const{TAURI:y}=await n.e(457).then(n.bind(n,4637)),k=u;function x({opened:e,close:t}){const[n,r]=(0,h.useState)();return(0,h.useEffect)((()=>{if(e&&void 0===n){const e=new(E()),t=e.getBrowser(),n=e.getEngine(),a=e.getOS();let l=`${t.name??"unknown"} ${t.version??""} `;l+=`(${n.name??"unknown"} ${n.version??""}) `,l+=`on ${a.name??"unknown"} ${a.version??""}`,r(l)}}),[e,n]),h.createElement(m.zF,{opened:e,onClose:t,size:"lg",centered:!0,p:"lg"},h.createElement(a.D,{order:2,mb:"lg"},"TrguiNG - 中文版"),h.createElement(l.x,null,h.createElement(o.e,{href:"https://transmissionbt.com/",target:"_blank",rel:"noreferrer"},"Transmission")," WebUI"),h.createElement(c.i,{px:"sm",my:"xl"}),h.createElement(i.k,{gap:"md",align:"center"},h.createElement(g.Z,{style:{flexShrink:0}}),h.createElement(s.r,null,h.createElement(s.r.Col,{span:3},"版本"),h.createElement(s.r.Col,{span:8},k.gitVersion),h.createElement(s.r.Col,{span:3},"前端"),h.createElement(s.r.Col,{span:8},n),h.createElement(s.r.Col,{span:3},"日期"),h.createElement(s.r.Col,{span:8},new Date(k.buildDate).toLocaleString()),h.createElement(s.r.Col,{span:3},"源码"),h.createElement(s.r.Col,{span:8},h.createElement(d.x,{component:"span",mr:"sm"},h.createElement(v.Z,null)),h.createElement(o.e,{href:"https://github.com/jayzcoder/TrguiNG",target:"_blank",rel:"noreferrer"},"Github")),h.createElement(s.r.Col,{mt:"xl"},y&&h.createElement(o.e,{href:"https://db-ip.com",target:"_blank",rel:"noreferrer"},"IP Geolocation by DB-IP")))),h.createElement(c.i,{px:"sm",my:"xl"}),h.createElement(l.x,{align:"center"},"Powered by"),h.createElement(i.k,{justify:"center"},h.createElement(o.e,{href:"https://react.dev/",target:"_blank",rel:"noreferrer"},h.createElement(p.Z,null)),h.createElement(o.e,{href:"https://tauri.app/",target:"_blank",rel:"noreferrer"},h.createElement(f.Z,null))))}r()}catch(C){r(C)}}),1)},6716:(e,t,n)=>{n.d(t,{k:()=>a});var r=n(7294);function a(e){const t=e.max??100,n=Math.floor(1e3*e.now/t)/10,a=e.label??`${n}%`,l="progressbar "+(!0===e.animate?"animate":"")+" "+`${void 0!==e.variant&&"default"!==e.variant?e.variant:""} `+`${e.className??""}`;return r.createElement("div",{className:l},r.createElement("div",null,a),r.createElement("div",{style:{clipPath:`inset(0 0 0 ${n}%)`}},a))}},5409:(e,t,n)=>{n.d(t,{QU:()=>c,ht:()=>i});var r=n(3795),a=n(7294);const l={active:!0,handlers:{start:()=>{},pause:()=>{},remove:()=>{},move:()=>{},setLabels:()=>{},setPriorityHigh:()=>{},setPriorityNormal:()=>{},setPriorityLow:()=>{},toggleAltSpeedMode:()=>{},daemonSettings:()=>{},selectAll:()=>{},focusSearch:()=>{},copyToClipboard:()=>{}},run(e){this.active&&this.handlers[e]()}},o=a.createContext(l);function c(){return(0,a.useContext)(o)}function i(){const e=c();(0,r.A)([["F3",()=>{e.run("start")}],["F4",()=>{e.run("pause")}],["delete",()=>{e.run("remove")}],["F6",()=>{e.run("move")}],["F7",()=>{e.run("setLabels")}],["mod + H",()=>{e.run("setPriorityHigh")}],["mod + N",()=>{e.run("setPriorityNormal")}],["mod + L",()=>{e.run("setPriorityLow")}],["F8",()=>{e.run("toggleAltSpeedMode")}],["F9",()=>{e.run("daemonSettings")}],["mod + A",()=>{e.run("selectAll")}],["mod + F",()=>{e.run("focusSearch")}],["mod + C",()=>{e.run("copyToClipboard")}]])}},8645:(e,t,n)=>{n.d(t,{EL:()=>f,Fe:()=>p,Of:()=>h,R8:()=>b,Z2:()=>v,aq:()=>g,bx:()=>o,uM:()=>E});var r=n(8328),a=n(7294);function l(e){let t=e.errorString,n="",a=!1;for(const r of e.trackerStats){let e="";r.hasAnnounced&&!r.lastAnnounceSucceeded&&(e=r.lastAnnounceResult),""===e||"Success"===e?a=!0:""===n&&(e===t&&(t=""),n=`Tracker: ${e}`)}return a||e.status===r.qb.stopped?t:n}function o(e){return 3===e.announceState?"工作(上传中)":e.hasAnnounced?e.lastAnnounceSucceeded||"Success"===e.lastAnnounceResult?"工作":e.lastAnnounceResult:""}function c(e){const t=e.trackerStats;return e.status===r.qb.stopped||0===t.length?"":o(t[0])}const i=/:\d+$/,s=/^((t|tr|tk|tracker|bt|open|opentracker)\d*)\.[^.]+\.[^.]+$/;function d(e){if(0===e.trackerStats.length)return"<No trackers>";let t=e.trackerStats[0].host;const n=i.exec(t);null!=n&&(t=t.substring(0,n.index));const r=s.exec(t);return null!=r&&(t=t.substring(r[1].length+1)),t}function m(e){let t=e.trackerStats.length>0?0:-1;return e.trackerStats.forEach((e=>{t=Math.max(t,e.seederCount)})),t}function u(e){let t=e.trackerStats.length>0?0:-1;return e.trackerStats.forEach((e=>{t=Math.max(t,e.leecherCount)})),t}async function h(e,t,n){const r=void 0===e.peers?void 0:await Promise.all(e.peers.map((async e=>await async function(e,t,n){const r=e.flagStr,a=r.includes("X")?"PEX":r.includes("H")?"DHT":"Tracker",l=[...r.matchAll(/[ODdUuK?]/g)].map((e=>w[e[0]])),o=t?await n.ipsBatcher.fetch(e.address):void 0;return{...e,cachedEncrypted:r.includes("E")?"是":"否",cachedFrom:a,cachedConnection:r.includes("I")?"传入":"输出",cachedProtocol:r.includes("T")?"µTP":"TCP",cachedStatus:(l??[]).join(""),cachedCountryIso:o?.isoCode,cachedCountryName:o?.name}}(e,t,n))));return{...e,downloadDir:e.downloadDir.replaceAll("\\","/"),cachedError:l(e),cachedTrackerStatus:c(e),cachedMainTracker:d(e),cachedSeedsTotal:m(e),cachedPeersTotal:u(e),peers:r}}const p=a.createContext({torrents:[],current:void 0});function f(){return(0,a.useContext)(p)}const g=a.createContext(0);function v(){return(0,a.useContext)(g)}const b=a.createContext(new Set);function E(){return(0,a.useContext)(b)}const w={O:"O",D:"D",d:"d",U:"U",u:"u",K:"K","?":"?"}},8328:(e,t,n)=>{n.d(t,{ED:()=>s,QK:()=>i,l7:()=>a,pX:()=>d,qb:()=>r,vw:()=>c,y9:()=>m,yN:()=>o,ze:()=>l});const r={stopped:0,queuedToVerify:1,verifying:2,queuedToDownload:3,downloading:4,queuedToSeed:5,seeding:6},a=["已暂停","等待校验","校验中","等待下载","下载中","等待做种","做种中"],l={low:-1,normal:0,high:1},o=new Map([[-1,"低"],[0,"正常"],[1,"高"]]),c=new Map([[-1,"yellow.6"],[0,"teal"],[1,"orange.7"]]),i=["id","name","status","pieceCount","downloadDir","labels","error","errorString","trackerStats","magnetLink","rateDownload","rateUpload","sizeWhenDone","haveValid"],s=[...i,"activityDate","addedDate","bandwidthPriority","corruptEver","dateCreated","desiredAvailable","doneDate","downloadedEver","downloadLimit","downloadLimited","editDate","eta","etaIdle","file-count","group","hashString","haveUnchecked","honorsSessionLimits","isFinished","isPrivate","isStalled","leftUntilDone","manualAnnounceTime","maxConnectedPeers","metadataPercentComplete","peer-limit","peersConnected","peersGettingFromUs","peersSendingToUs","percentComplete","percentDone","pieceSize","queuePosition","recheckProgress","secondsDownloading","secondsSeeding","seedIdleLimit","seedIdleMode","seedRatioLimit","seedRatioMode","sequentialDownload","startDate","totalSize","torrentFile","uploadedEver","uploadLimit","uploadLimited","uploadRatio","webseedsSendingToUs","comment","creator","files","fileStats","peers","peersFrom","pieces","priorities","primary-mime-type","trackers","trackerList","wanted","webseeds"],d=["alt-speed-down","alt-speed-enabled","alt-speed-up","download-dir-free-space","speed-limit-down-enabled","speed-limit-down","speed-limit-up-enabled","speed-limit-up"],m=[...d,"alt-speed-time-begin","alt-speed-time-day","alt-speed-time-enabled","alt-speed-time-end","blocklist-enabled","blocklist-size","blocklist-url","cache-size-mb","config-dir","default-trackers","dht-enabled","download-dir","download-queue-enabled","download-queue-size","encryption","idle-seeding-limit-enabled","idle-seeding-limit","incomplete-dir-enabled","incomplete-dir","lpd-enabled","peer-limit-global","peer-limit-per-torrent","peer-port-random-on-start","peer-port","pex-enabled","port-forwarding-enabled","queue-stalled-enabled","queue-stalled-minutes","rename-partial-files","rpc-version-minimum","rpc-version-semver","rpc-version","script-torrent-added-enabled","script-torrent-added-filename","script-torrent-done-enabled","script-torrent-done-filename","script-torrent-done-seeding-enabled","script-torrent-done-seeding-filename","seed-queue-enabled","seed-queue-size","seedRatioLimit","seedRatioLimited","start-added-torrents","trash-original-torrent-files","units","utp-enabled","version"]},5070:e=>{e.exports=JSON.parse('{"gitVersion":"trguing-web-v1.3.0-zh-240607a","backendVersion":"1.3.0","buildDate":1717692863001}')}}]);