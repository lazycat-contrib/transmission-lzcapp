"use strict";(self.webpackChunktrguing=self.webpackChunktrguing||[]).push([[457],{4637:(e,i,t)=>{t.a(e,(async(e,n)=>{try{t.d(i,{TAURI:()=>a,appWindow:()=>d,copyToClipboard:()=>m,dialogOpen:()=>l,invoke:()=>w,makeCreateTorrentView:()=>u,readConfigText:()=>h,writeConfigText:()=>g});const a=Object.prototype.hasOwnProperty.call(window,"__TAURI__"),o=a?(await t.e(974).then(t.bind(t,3344))).appWindow:void 0,c=a?(await t.e(974).then(t.bind(t,3344))).WebviewWindow:void 0,s=a?(await t.e(974).then(t.bind(t,4292))).fs:void 0,r=a?(await t.e(974).then(t.bind(t,4292))).clipboard:void 0,d={emit:async(e,i)=>await(o?.emit(e,i)),listen:async(e,i)=>await(o?.listen(e,i))??(()=>{}),once:async(e,i)=>await(o?.once(e,i)),onCloseRequested:async e=>await(o?.onCloseRequested(e)),onFocusChanged:async e=>await(o?.onFocusChanged(e)),onResized:async e=>await(o?.onResized(e)),onMoved:async e=>await(o?.onMoved(e)),setSize:async e=>{if(void 0!==o){const i=(await t.e(974).then(t.bind(t,3344))).PhysicalSize;await o.setSize(new i(...e))}},setPosition:async e=>{if(void 0!==o){const i=(await t.e(974).then(t.bind(t,3344))).PhysicalPosition;await o.setPosition(new i(...e))}},isMinimized:async()=>await(o?.isMinimized())??!1,hide:async()=>await(o?.hide()),show:async()=>await(o?.show()),center:async()=>await(o?.center()),unminimize:async()=>await(o?.unminimize()),setFocus:async()=>await(o?.setFocus()),setTitle:async e=>await(o?.setTitle(e))},w=a?(await t.e(974).then(t.bind(t,4292))).invoke:async(e,i)=>await Promise.reject(new Error("Running outside of tauri app")),l=a?(await t.e(974).then(t.bind(t,8890))).open:async e=>await Promise.reject(new Error("Running outside of tauri app"));async function u(){if(void 0!==c){const e=new c(`createtorrent-${Math.floor(Math.random()*2**30)}`,{url:"createtorrent.html",width:550,height:700,visible:!0,center:!0,maximizable:!1,title:"Create torrent"});await e.once("tauri://error",(e=>{console.log("Webview error",e)}))}}const y="trguing.json";async function h(){return void 0!==s?await s.readTextFile(y,{dir:s.BaseDirectory.Config}):localStorage.getItem("trguing-config")??"{}"}async function g(e){void 0!==s?await s.writeFile({path:y,contents:e},{dir:s.BaseDirectory.Config}):localStorage.setItem("trguing-config",e)}function m(e){if(a)r?.writeText(e);else{const i=document.createElement("textarea");i.value=e,document.body.appendChild(i),i.focus(),i.select();try{document.execCommand("copy")}catch(e){console.log("Can not copy to clipboard.")}document.body.removeChild(i)}}n()}catch(p){n(p)}}),1)}}]);