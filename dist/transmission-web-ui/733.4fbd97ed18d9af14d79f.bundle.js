"use strict";(self.webpackChunktrguing=self.webpackChunktrguing||[]).push([[733,821],{3821:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.r(t),s.d(t,{default:()=>v});var o=s(6172),a=s(4629),n=s(6972),i=s(3728),l=s(8913),c=s(4476),u=s(7294),h=e([c,l]);[c,l]=h.then?(await h)():h;const f=(e,t)=>({colorScheme:e,fontFamily:t??"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif",headings:{fontFamily:t??"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif"},components:{Table:{styles:{root:{"& tbody tr td":{padding:"0 0.5rem"}}}},Checkbox:{styles:{input:{".selected &":{boxShadow:"inset 0 0 3px 0 white"}}}},Modal:{styles:{header:{paddingRight:"0.5rem"}}}},colors:{turquoise:["#dcfdff","#b2f4fd","#85ebf9","#58e3f6","#36d9f3","#25c0d9","#1696aa","#066b7a","#00404a","#00171b"]},spacing:{xs:"0.3rem",sm:"0.4rem",md:"0.5rem",lg:"0.7rem",xl:"1rem"}});function d(){const e=(0,o.rZ)(),t=(0,c.V1)(),{style:s}=(0,c.H6)(),r=s[e.colorScheme];return u.createElement(a.x,{styles:e=>({html:{fontSize:`${t.value}em`},body:{color:void 0===r.color?void 0:e.colors[r.color.color][r.color.shade],backgroundColor:void 0===r.backgroundColor?void 0:e.colors[r.backgroundColor.color][r.backgroundColor.shade]},"::-webkit-scrollbar":{width:"0.75em",height:"0.75em"},"::-webkit-scrollbar-track":{backgroundColor:"dark"===e.colorScheme?e.fn.rgba(e.colors.gray[7],.4):e.fn.rgba(e.colors.gray[5],.4)},"::-webkit-scrollbar-thumb":{backgroundColor:"dark"===e.colorScheme?e.colors.gray[7]:e.colors.gray[5],borderRadius:"0.375em",minHeight:"3rem",minWidth:"3rem"},"::-webkit-scrollbar-thumb:hover":{backgroundColor:(e.colorScheme,e.colors.gray[6]),border:"1px solid #77777744"},"::-webkit-scrollbar-corner":{backgroundColor:"dark"===e.colorScheme?e.fn.rgba(e.colors.gray[7],.5):e.fn.rgba(e.colors.gray[5],.5)},"svg:not(:root)":{overflow:"visible"}})})}function v({children:e}){const t=(0,u.useContext)(l.E_),s=(0,i.t)(),[r,a]=(0,u.useState)(t.getTheme()??s),h=(0,u.useCallback)((e=>{e=e??("dark"===r?"light":"dark"),t.setTheme(e),a(e)}),[t,r]),[v,p]=(0,u.useState)(t.values.interface.styleOverrides);(0,u.useEffect)((()=>{t.values.interface.styleOverrides=v}),[t,v]);const b=(0,u.useMemo)((()=>f(r,v.font)),[r,v.font]);return u.createElement(n.A,{colorScheme:r,toggleColorScheme:h},u.createElement(c.S9,null,u.createElement(c.g4.Provider,{value:{style:v,setStyle:p}},u.createElement(o.Me,{withGlobalStyles:!0,withNormalizeCSS:!0,theme:b},u.createElement(d,null),e))))}r()}catch(p){r(p)}}))},8913:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{De:()=>S,Dk:()=>T,E_:()=>y,O0:()=>f,XS:()=>v,bb:()=>p,nF:()=>d});var o=s(7294),a=s(9362);const{readConfigText:e,writeConfigText:n}=await s.e(457).then(s.bind(s,4637)),i=["torrents","filetree","filetreebrief","trackers","peers"],l=["种子状态","数据目录","用户标签","服务器分布","错误分布"],c=["全部","下载中","已暂停","已完成","正在校验","活动中","未活动","工作中","错误","磁力链接"],u=["连接状态","下载速度","上传速度","剩余空间","列表总大小","选中大小"],h=["常规","文件","块","用户","Tracker","分割","数据统计"],f=["最小化","隐藏"],d=["隐藏","关闭","退出"],v=["默认关","默认开","记住选择"],p=["静态","动态","多颜色"],b={torrents:{sizeWhenDone:!1,leftUntilDone:!1,downloadedEver:!1,uploadedEver:!1,simpleRatio:!1,eta:!1,tracker:!1,trackerStatus:!1,doneDate:!1,activityDate:!1,downloadDir:!1,id:!1,queuePosition:!1,isPrivate:!1,group:!1,"file-count":!1,pieceCount:!1,metadataPercentComplete:!1},peers:{flagStr:!1,cachedFrom:!1,cachedConnection:!1,cachedProtocol:!1}},m=[],g={servers:[],app:{window:{size:[1024,800],position:void 0},openTabs:[],lastTab:0,deleteAdded:!1,toastNotifications:!0,toastNotificationSound:!0,showTrayIcon:!0,onMinimize:"最小化",onClose:"退出",fontSizeBase:.9,fontSize:.9},interface:{theme:void 0,tables:Object.fromEntries(i.map((e=>[e,{columns:[],columnVisibility:b[e]??{},columnOrder:[],columnSizes:{},sortBy:[]}]))),sashSizes:{vertical:[70,30],horizontal:[20,80]},filterSections:l.map((e=>({section:e,visible:!0}))),statusFiltersVisibility:Object.fromEntries(c.map((e=>[e,!["工作中","磁力链接"].includes(e)]))),compactDirectories:!1,hideSubDirTorrents:!1,showFilterGroupSize:!0,selectFilterGroupOnDbClk:!0,showRunStatus:!0,statusBarSections:u.map((e=>({section:e,visible:!0}))),statusBarGlobalSpeeds:!0,showFiltersPanel:!0,showDetailsPanel:!0,detailsTabs:h.map((e=>({section:e,visible:!0}))),showFilesSearchBox:!1,flatFileTree:!1,mainSplit:"vertical",skipAddDialog:!1,deleteTorrentData:"默认关",deleteTorrentDataSelection:!1,deleteTorrentDataWhenOneSelection:!1,numLastSaveDirs:20,sortLastSaveDirs:!1,preconfiguredLabels:[],defaultTrackers:[...m],styleOverrides:{dark:{},light:{}},progressbarStyle:"动态"}};class S{values=g;async read(){const t=(await s.e(202).then(s.bind(s,228))).default;try{const s=await e();t(this.values,JSON.parse(s));const r=this.values.interface.styleOverrides;void 0!==r.color&&(r[this.values.interface.theme??"light"].color=r.color,r.color=void 0),void 0!==r.backgroundColor&&(r[this.values.interface.theme??"light"].backgroundColor=r.backgroundColor,r.backgroundColor=void 0),void 0!==this.values.openTabs&&(this.values.app.openTabs=this.values.openTabs,this.values.openTabs=void 0)}catch(e){console.log(e)}this.values.app.openTabs=this.values.app.openTabs.filter((e=>void 0!==this.values.servers.find((t=>t.name===e)))),this.values.servers=this.values.servers.map((e=>({...e,connection:{...e.connection,password:(0,a.p4)(e.connection.password)}}))),this.values.app.lastTab>=this.values.app.openTabs.length&&(this.values.app.lastTab=-1);for(const e of l)this.values.interface.filterSections.find((t=>t.section==e))||this.values.interface.filterSections.push({section:e,visible:!0});this.values.interface.filterSections=this.values.interface.filterSections.filter((e=>l.indexOf(e.section)>=0));for(const e of h)this.values.interface.detailsTabs.find((t=>t.section==e))||this.values.interface.detailsTabs.push({section:e,visible:!0});this.values.interface.detailsTabs=this.values.interface.detailsTabs.filter((e=>h.indexOf(e.section)>=0));for(const e of u)this.values.interface.statusBarSections.find((t=>t.section==e))||this.values.interface.statusBarSections.push({section:e,visible:!0});return this.values.interface.statusBarSections=this.values.interface.statusBarSections.filter((e=>u.indexOf(e.section)>=0)),this}async save(){const e={...this.values};e.servers=e.servers.map((e=>({...e,connection:{...e.connection,password:(0,a.H6)(e.connection.password)}})));const t=JSON.stringify(e,null,"    ");await n(t)}getTheme(){return this.values.interface.theme}setTheme(e){this.values.interface.theme=e}getSashSizes(e){return this.values.interface.sashSizes[e]}setSashSizes(e,t){this.values.interface.sashSizes[e]=t}getServers(){return this.values.servers}getOpenServers(){return this.values.servers.filter((e=>this.values.app.openTabs.includes(e.name)))}setServers(e){this.values.servers=e}getServer(e){return this.values.servers.find((t=>t.name===e))}getOpenTabs(){return this.values.app.openTabs}getLastOpenTab(){return this.values.app.openTabs[this.values.app.lastTab]}setOpenTabs(e,t){this.values.app.openTabs=e,this.values.app.lastTab=t}setTableColumnSizes(e,t){this.values.interface.tables[e].columnSizes=t}getTableColumnSizes(e){return this.values.interface.tables[e].columnSizes}setTableColumnVisibility(e,t){this.values.interface.tables[e].columnVisibility=t}getTableColumnVisibility(e){return this.values.interface.tables[e].columnVisibility}setTableColumnOrder(e,t){this.values.interface.tables[e].columnOrder=t}getTableColumnOrder(e){return this.values.interface.tables[e].columnOrder}setTableSortBy(e,t){this.values.interface.tables[e].sortBy=t}getTableSortBy(e){return this.values.interface.tables[e].sortBy}addSaveDir(e,t){const s=this.removeSaveDir(e,t);if(void 0!==s)for(s.unshift(t);s.length>this.values.interface.numLastSaveDirs;)s.pop()}removeSaveDir(e,t){const s=this.getServer(e)?.lastSaveDirs;if(void 0===s)return;const r=s.findIndex((e=>e===t));return r>=0&&s.splice(r,1),s}}const y=o.createContext(new S),T=o.createContext({connection:{url:"",username:"",password:""},name:"",pathMappings:[],expandedDirFilters:[],lastSaveDirs:[],intervals:{session:0,torrents:0,torrentsMinimized:0,details:0}});r()}catch(e){r(e)}}),1)},4476:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{H6:()=>f,S9:()=>c,V1:()=>u,g4:()=>h});var o=s(9895),a=s(8913),n=s(7294),i=e([a]);a=(i.then?(await i)():i)[0];const l=n.createContext({value:.9,toggle:e=>{}});function c(e){const t=(0,n.useContext)(a.E_),s=(0,n.useMemo)((()=>{const e=t.values.app.fontSizeBase,s=1e-6,r=10/9;let o=Math.max(t.values.app.fontSize,e/r/r);const a=[];for(;a.length<5&&o<e*r*r+s;)a.push(o),o*=r;for(o=e/r/r;a.length<5&&o<e*r*r+s;)a.push(o),o*=r;return a}),[t]),[r,i]=(0,o.O)(s);return(0,n.useEffect)((()=>{i(t.values.app.fontSize)}),[t,i]),(0,n.useEffect)((()=>{t.values.app.fontSize=r}),[t,r]),n.createElement(l.Provider,{value:{value:r,toggle:i}},e.children)}function u(){return(0,n.useContext)(l)}const h=n.createContext({style:{dark:{},light:{}},setStyle:()=>{}});function f(){return(0,n.useContext)(h)}r()}catch(d){r(d)}}))},9362:(e,t,s)=>{s.d(t,{DO:()=>w,H6:()=>T,Iy:()=>a,Nw:()=>c,QY:()=>d,Qh:()=>b,Tx:()=>g,V6:()=>m,dh:()=>l,e$:()=>i,jb:()=>p,kB:()=>v,l:()=>h,oU:()=>u,p4:()=>C,qj:()=>n,wy:()=>x});var r=s(7294);const o=["B","KB","MB","GB","TB","PB","EB"];function a(e){let t="",s=1;for(t of o){if(e<1024*s)break;s*=1024}const r=e/s;let a=2;return r>=100&&(a=1),r>=1e3&&(a=0),"B"===t&&(a=0),`${r.toFixed(a)} ${t}`}function n(e){return e<0?"∞":`${a(e)}/s`}function i(e,t=!0){let s={days:Math.floor(e/86400),hours:Math.floor(e/3600)%24,minutes:Math.floor(e/60)%60,seconds:e%60};t&&(s.days>=10?s={days:s.days,hours:0,minutes:0,seconds:0}:s.days>0?s={...s,minutes:0,seconds:0}:(s.days>0||s.hours>0)&&(s.seconds=0));let r="";return s.days>0&&(r=`${s.days}d`),s.hours>0&&(r=(""!==r?r+" ":"")+`${s.hours}h`),s.minutes>0&&(r=(""!==r?r+" ":"")+`${s.minutes}m`),s.seconds>0&&(r=(""!==r?r+" ":"")+`${s.seconds}s`),r}function l(e){return 0===e?"-":new Date(1e3*e).toLocaleString()}function c(e){if(0===e.length)return"";let t="/";return e.includes("\\")&&(t="\\"),e.charAt(e.length-1)!==t?e+t:e}function u(){const[,e]=(0,r.useReducer)((e=>e+1),0);return e}function h(e,t,s){const r=Array.from(e),[o]=r.splice(t,1);return r.splice(s,0,o),r}function f(e){return e.replace(/\\/g,"/")}function d(e,t){let s=e;const r=f(e);for(const e of t.pathMappings)if(e.from.length>0&&r.startsWith(f(e.from))){s=e.to+s.substring(e.from.length);break}return s}function v(e,t){let s=e;const r=f(e);for(const e of t.pathMappings)if(e.to.length>0&&r.startsWith(f(e.to))){s=e.from+s.substring(e.to.length);break}return s}function p(e){return navigator.platform.startsWith("Mac")&&e.metaKey||!navigator.platform.startsWith("Mac")&&e.ctrlKey}function b(){return navigator.platform.startsWith("Mac")?"⌘":"ctrl"}function m(e){const t=e.substring(8).split("&").map((e=>{const t=e.indexOf("=");return[e.substring(0,t),e.substring(t+1)]}));let s=t.find((e=>"xt"===e[0]))?.[1]??"";return s=s.startsWith("urn:btih:")?s.substring(9).toLowerCase():"",{hash:s,trackers:t.filter((e=>"tr"===e[0]&&""!==e[1])).map((e=>decodeURIComponent(e[1])))}}function g(e,t){const s=new Set;e.forEach((e=>{e.forEach((e=>s.add(e)))}));const r=[...e];return t.forEach(((e,t)=>{if(t>=r.length){const t=e.filter((e=>!s.has(e)));t.length>0&&(r.push(t),t.forEach((e=>s.add(e))))}else e.forEach((e=>{s.has(e)||(r[t].push(e),s.add(e))}))})),r}const S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",y="HfxgnvteJy86p0ZPDdIYmc5r[kOj9EowACSWG7is%VNBXMhKFa2UlL31bzu4RQTq:";function T(e){const t=btoa(encodeURIComponent("TrguiNG:"+e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));let s="";for(const e of t)s+=y[S.indexOf(e)];return s}function C(e){let t="";for(const s of e){const r=y.indexOf(s);if(!(r>=0))return e;t+=S[r]}try{const r=(s=t,decodeURIComponent(Array.prototype.map.call(atob(s),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")));return r.startsWith("TrguiNG:")?r.substring(8):e}catch{return e}var s}const k=/[<>:"\\/|?*]/g;function w(e){return e.replace(k,"_")}function*x(...e){for(const t of e)yield*t}}}]);